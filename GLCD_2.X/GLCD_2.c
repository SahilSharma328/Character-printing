/*
 * File:   glcddisp.c
 * Author: Dell
 *
 * Created on 2 January, 2018, 6:00 PM
 */

#define _XTAL_FREQ 16000000
#include <xc.h>
#define LCD PORTC
#define RS PORTDbits.RD0
#define EN PORTDbits.RD1
#define CS1 PORTDbits.RD2
#define CS2 PORTDbits.RD3
void cmd(int k)
{
    LCD=k;
    RS=0;
    EN=1;
    __delay_us(50);
    EN=0;
     __delay_us(50);
}
void dat(int j)
{
    LCD=j;
    RS=1;
    EN=1;
     __delay_us(50);
    EN=0;
     __delay_us(50);
}
unsigned char a[]={
  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,128,192,192,192,192,192, 
 192,  0,192,192,192,  0,  0,  0,  0,  0,  0,  0,128,192,192,192, 
 192,128,  0,192,192,192,192,192,192,192,128,  0,  0,  0,  0,  0, 
   0,  0,192,192,192,  0,  0,192,192,192,192,  0,  0,128,192,192, 
 192,192,192,  0,  0,  0,128,192,192,192,192,128,  0,  0,  0,  0, 
   0,128,128,192,  0,  0,  0,  0,128,192,192,192,192,128,  0,  0, 
   0,128,192,192,192,192,192,128,  0,  0,  0,  0,  0,  0,  0,  0, 
   0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0, 
   0,  0,  0,  0,  0,  0,  0,  0, 62,127,255,247,193,217,253,253, 
 252,252,255,255,255,224,192,192,192,  0, 62,127,255,247,193,193, 
 193,193,  0,255,255,255,227,193,227,255,255,127, 28,  0,  0,  0, 
   0,  0,255,255,255, 30, 63,255,255,243,128,  0,199,207,207,223, 
 253,249,249,112,  0,127,255,255,195,193,255,255,127,  0,  2,  7, 
   7,255,255,255,  0,  0,  0,127,255,255,195,193,255,255,127,  0, 
 243,255,255,221,221,255,255,243,  0,  0,  0,  0,  0,  0,  0,  0, 
   0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0, 
   0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  1,  1,  1,  1,  1, 
   1,  0,  1,  1,  1,  1,  1,  1,  1,  0,  0,  0,  0,  1,  1,  1, 
   1,  1,  0,  1,  1,  1,  1,  1,  1,  1,  0,  0,  0,  0,  0,  0, 
   0,  0,  1,  1,  1,  0,  0,  1,  1,  1,  1,  0,  1,  1,  1,  1, 
   1,  1,  0,  0,  0,  0,  0,  1,  1,  1,  1,  0,  0,  0,  0,  0, 
   0,  1,  1,  1,  0,  0,  0,  0,  0,  1,  1,  1,  1,  0,  0,  0, 
   0,  1,  1,  1,  1,  1,  1,  0,  0,  0,  0,  0,  0,  0,  0,  0, 
   0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0, 
   0,  0,  0,  0,  0,  0,  0,  0, 30, 30,  0, 30, 30,  0,254,254, 
 254,240,224,240,254,254,254,  0,192,224,240, 48,176,240,240, 96, 
   0,254,254,254,  0,  0,254,254,254,  0,  0,192,224,240,112, 48, 
 112,240,240,224,  0,  0,  0,  0, 48,240,240,192,192,240,240,192, 
 192,240,240, 48,  0,192,224,240,112, 48,112,240,240,224,  0,240, 
 240,240,112, 48,  0,254,254,254,  0,  0,192,240,240,112, 48,112, 
 254,254,254,  0, 30, 30,  0, 30, 30,  0,  0,  0,  0,  0,  0,  0, 
   0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0, 
   0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0, 15, 15, 
  15,  0,  0,  0, 15, 15, 15,  0,  3,  7, 15, 15, 15, 14, 14, 12, 
   0, 15, 15, 15,  0,  0, 15, 15, 15,  0,  0,  3,  7, 15, 14, 14, 
  14, 15,  7,  3,  0,  0,  0,  0,  0,  1, 15, 15, 15,  3,  7, 15, 
  15, 15,  1,  0,  0,  3,  7, 15, 14, 14, 14, 15,  7,  3,  0, 15, 
  15, 15,  0,  0,  0, 15, 15, 15,  0,  0,  3,  7, 15, 14, 14, 14, 
  15, 15, 15,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0, 
   0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0, 
   0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0, 
   0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0, 
   0,  0,  0,128,128,128,128,128,128,128,128,128,128,128,  0,  0, 
  16,184,248,144,  0,240,240,240,  0,128,128,128,128,  0,128,128, 
 128,128,128,  0,  0,  0,128,128,128,128,128,128,  0,  0,240,240, 
 240,112,112,240,224,192,  0,  0,128,128,128,128,128,128,  0,  0, 
   0,128,128,128,128,128,  0,  0,  0,128,128,128,128,128,128,  0, 
 128,128,128,128,128,128,  0,  0,240,240,240,  0,  0,  0,  0,  0, 
   0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0, 
   0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0, 
   0,  0,  0,127,127,127,  3,127,127,127,  3,  3,127,127,127,  0, 
   0,127,127,127,  0,127,127,127, 14, 63,127,123, 96,  0,127,127, 
 127,  3,  1,  0, 30, 63,127,115,113,115,127, 63, 31,  0,127,127, 
 127, 14, 14,  7,  7,  3,  0, 56,125,125,109,109,127,127,127,  0, 
 119,103,111,125,125, 57,  0, 30, 63,127,115,113,115,113,  0, 56, 
 125,125,109,109,127,127,127,  0,127,127,127,  0,  0,  0,  0,  0, 
   0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0, 
   0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0, 
   0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0, 
   0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0, 
   0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0, 
   0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0, 
   0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0, 
   0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0       
    };


void main(void) {
    ANSELC=ANSELD=0;
    TRISC=0X00;
    TRISD=0X00;
    int i,n,l,k,j;
    cmd(184);
    cmd(0x40);
    cmd(0x3F);
    n=184;
    k=1;
    for(i=1;i<=1024;i++)
    {  
        l=64*k;
        if(i<=l)
    {
        CS2=0;CS1=1;
        j=i-1;
        dat(a[j]);
    }
        else
    {
        CS2=1;CS1=0;
        j=i-1;
        dat(a[j]);
    }
        if((i%128)==0)
        {  
           n=n+1; 
           cmd(n);
           k=k+2;
        }
    }
    return;
}
